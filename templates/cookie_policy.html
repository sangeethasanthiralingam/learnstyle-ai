{% extends "base.html" %}

{% block title %}Cookie Policy - LearnStyle AI{% endblock %}

{% block head %}
<style>
.policy-container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 2rem;
    background: #f8f9fa;
    min-height: 100vh;
}

.policy-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-radius: 20px;
    padding: 2rem;
    margin-bottom: 2rem;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
    position: relative;
    overflow: hidden;
}

.policy-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="10" r="0.5" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
    opacity: 0.3;
}

.policy-content {
    position: relative;
    z-index: 1;
}

.policy-title {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
}

.policy-subtitle {
    font-size: 1.1rem;
    opacity: 0.9;
    margin-bottom: 0;
}

.policy-card {
    background: white;
    border-radius: 20px;
    padding: 2rem;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    border: 1px solid rgba(0, 0, 0, 0.05);
    position: relative;
    overflow: hidden;
}

.policy-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #667eea, #764ba2);
}

.policy-section {
    margin-bottom: 2.5rem;
    padding-bottom: 2rem;
    border-bottom: 1px solid #e9ecef;
}

.policy-section:last-child {
    border-bottom: none;
    margin-bottom: 0;
}

.policy-section h2 {
    color: #333;
    font-size: 1.8rem;
    font-weight: 600;
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.policy-section h3 {
    color: #495057;
    font-size: 1.3rem;
    font-weight: 600;
    margin-bottom: 1rem;
    margin-top: 1.5rem;
}

.policy-section p {
    color: #666;
    line-height: 1.7;
    margin-bottom: 1rem;
}

.policy-section ul {
    color: #666;
    line-height: 1.7;
    margin-bottom: 1rem;
    padding-left: 1.5rem;
}

.policy-section li {
    margin-bottom: 0.5rem;
    position: relative;
}

.policy-section li::marker {
    color: #667eea;
    font-weight: bold;
}

.highlight-box {
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
    border-left: 4px solid #667eea;
    border-radius: 8px;
    padding: 1.5rem;
    margin: 1.5rem 0;
}

.highlight-box h4 {
    color: #667eea;
    font-weight: 600;
    margin-bottom: 0.75rem;
}

.cookie-table {
    background: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    margin: 1.5rem 0;
}

.cookie-table table {
    width: 100%;
    border-collapse: collapse;
}

.cookie-table th {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 1rem;
    text-align: left;
    font-weight: 600;
}

.cookie-table td {
    padding: 1rem;
    border-bottom: 1px solid #e9ecef;
}

.cookie-table tr:last-child td {
    border-bottom: none;
}

.cookie-table tr:nth-child(even) {
    background: #f8f9fa;
}

.back-to-dashboard {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    border-radius: 50px;
    padding: 1rem 1.5rem;
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
    transition: all 0.3s ease;
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 600;
    z-index: 1000;
}

.back-to-dashboard:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 35px rgba(102, 126, 234, 0.4);
    color: white;
    text-decoration: none;
}

@media (max-width: 768px) {
    .policy-container {
        padding: 1rem;
    }
    
    .policy-title {
        font-size: 2rem;
        flex-direction: column;
        text-align: center;
    }
    
    .policy-card {
        padding: 1.5rem;
    }
    
    .back-to-dashboard {
        bottom: 1rem;
        right: 1rem;
        padding: 0.75rem 1.25rem;
    }
    
    .cookie-table {
        font-size: 0.9rem;
    }
    
    .cookie-table th,
    .cookie-table td {
        padding: 0.75rem;
    }
}
</style>
{% endblock %}

{% block content %}
<div class="policy-container">
    <div class="policy-header">
        <div class="policy-content">
            <h1 class="policy-title">
                <i class="bi bi-cookie"></i>
                Cookie Policy
            </h1>
            <p class="policy-subtitle">Last updated: January 15, 2025</p>
        </div>
    </div>
    
    <div class="policy-card">
        <div class="cookie-content">
            <section class="policy-section">
                <h2><i class="bi bi-question-circle"></i> 1. What Are Cookies?</h2>
                            <p>Cookies are small text files that are placed on your computer or mobile device when you visit our website. They help us provide you with a better experience by remembering your preferences and enabling certain functionality.</p>
                        </section>

                        <section class="mb-4">
                            <h2>2. How We Use Cookies</h2>
                            <p>We use cookies for several purposes:</p>
                            <ul>
                                <li>To remember your login status and preferences</li>
                                <li>To personalize your learning experience</li>
                                <li>To analyze how you use our website</li>
                                <li>To improve our services and content</li>
                                <li>To provide security features</li>
                            </ul>
                        </section>

                        <section class="mb-4">
                            <h2>3. Types of Cookies We Use</h2>
                            
                            <h3>3.1 Essential Cookies</h3>
                            <p>These cookies are necessary for the website to function properly. They enable basic functions like page navigation, access to secure areas, and remembering your login status.</p>
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>Cookie Name</th>
                                            <th>Purpose</th>
                                            <th>Duration</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>session_id</td>
                                            <td>Maintains your login session</td>
                                            <td>Session</td>
                                        </tr>
                                        <tr>
                                            <td>csrf_token</td>
                                            <td>Security protection against attacks</td>
                                            <td>Session</td>
                                        </tr>
                                        <tr>
                                            <td>user_preferences</td>
                                            <td>Remembers your display preferences</td>
                                            <td>30 days</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <h3>3.2 Analytics Cookies</h3>
                            <p>These cookies help us understand how visitors interact with our website by collecting and reporting information anonymously.</p>
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>Cookie Name</th>
                                            <th>Purpose</th>
                                            <th>Duration</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>_ga</td>
                                            <td>Google Analytics - distinguishes users</td>
                                            <td>2 years</td>
                                        </tr>
                                        <tr>
                                            <td>_gid</td>
                                            <td>Google Analytics - distinguishes users</td>
                                            <td>24 hours</td>
                                        </tr>
                                        <tr>
                                            <td>_gat</td>
                                            <td>Google Analytics - throttles requests</td>
                                            <td>1 minute</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <h3>3.3 Functional Cookies</h3>
                            <p>These cookies enable enhanced functionality and personalization, such as remembering your learning style preferences and content recommendations.</p>
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>Cookie Name</th>
                                            <th>Purpose</th>
                                            <th>Duration</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>learning_style</td>
                                            <td>Remembers your learning style preference</td>
                                            <td>1 year</td>
                                        </tr>
                                        <tr>
                                            <td>content_preferences</td>
                                            <td>Stores your content type preferences</td>
                                            <td>6 months</td>
                                        </tr>
                                        <tr>
                                            <td>theme_preference</td>
                                            <td>Remembers your UI theme choice</td>
                                            <td>1 year</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <h3>3.4 Marketing Cookies</h3>
                            <p>These cookies are used to track visitors across websites to display relevant and engaging advertisements.</p>
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>Cookie Name</th>
                                            <th>Purpose</th>
                                            <th>Duration</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>_fbp</td>
                                            <td>Facebook Pixel - tracks conversions</td>
                                            <td>3 months</td>
                                        </tr>
                                        <tr>
                                            <td>ads_preferences</td>
                                            <td>Stores ad personalization settings</td>
                                            <td>1 year</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </section>

                        <section class="mb-4">
                            <h2>4. Third-Party Cookies</h2>
                            <p>We may also use third-party services that set their own cookies:</p>
                            <ul>
                                <li><strong>Google Analytics:</strong> For website analytics and performance monitoring</li>
                                <li><strong>Google Fonts:</strong> For displaying custom fonts</li>
                                <li><strong>Bootstrap Icons:</strong> For displaying icons</li>
                                <li><strong>Social Media Widgets:</strong> For social sharing functionality</li>
                            </ul>
                        </section>

                        <section class="mb-4">
                            <h2>5. Managing Your Cookie Preferences</h2>
                            
                            <h3>5.1 Browser Settings</h3>
                            <p>You can control and manage cookies through your browser settings. Most browsers allow you to:</p>
                            <ul>
                                <li>View what cookies are stored on your device</li>
                                <li>Delete cookies individually or all at once</li>
                                <li>Block cookies from specific websites</li>
                                <li>Block third-party cookies</li>
                                <li>Clear cookies when you close your browser</li>
                            </ul>

                            <h3>5.2 Browser-Specific Instructions</h3>
                            <div class="accordion" id="browserAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="chrome">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseChrome">
                                            Google Chrome
                                        </button>
                                    </h2>
                                    <div id="collapseChrome" class="accordion-collapse collapse" data-bs-parent="#browserAccordion">
                                        <div class="accordion-body">
                                            <ol>
                                                <li>Click the three dots menu in the top right</li>
                                                <li>Go to Settings > Privacy and security > Cookies and other site data</li>
                                                <li>Choose your preferred cookie settings</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="firefox">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFirefox">
                                            Mozilla Firefox
                                        </button>
                                    </h2>
                                    <div id="collapseFirefox" class="accordion-collapse collapse" data-bs-parent="#browserAccordion">
                                        <div class="accordion-body">
                                            <ol>
                                                <li>Click the hamburger menu in the top right</li>
                                                <li>Go to Settings > Privacy & Security</li>
                                                <li>Under Cookies and Site Data, choose your preferences</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="safari">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSafari">
                                            Safari
                                        </button>
                                    </h2>
                                    <div id="collapseSafari" class="accordion-collapse collapse" data-bs-parent="#browserAccordion">
                                        <div class="accordion-body">
                                            <ol>
                                                <li>Go to Safari > Preferences</li>
                                                <li>Click the Privacy tab</li>
                                                <li>Choose your cookie settings</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <h3>5.3 Cookie Consent Management</h3>
                            <p>You can also manage your cookie preferences through our cookie consent banner that appears when you first visit our website. You can change your preferences at any time by clicking the "Cookie Settings" link in our footer.</p>
                        </section>

                        <section class="mb-4">
                            <h2>6. Impact of Disabling Cookies</h2>
                            <p>If you choose to disable cookies, some features of our website may not function properly:</p>
                            <ul>
                                <li>You may need to log in repeatedly</li>
                                <li>Your preferences may not be saved</li>
                                <li>Personalized content may not be available</li>
                                <li>Some interactive features may not work</li>
                            </ul>
                        </section>

                        <section class="mb-4">
                            <h2>7. Updates to This Policy</h2>
                            <p>We may update this Cookie Policy from time to time to reflect changes in our practices or for other operational, legal, or regulatory reasons. We will notify you of any material changes by posting the updated policy on this page.</p>
                        </section>

                        <section class="mb-4">
                            <h2>8. Contact Us</h2>
                            <p>If you have any questions about our use of cookies or this Cookie Policy, please contact us:</p>
                            <ul>
                                <li>Email: privacy@learnstyle-ai.com</li>
                                <li>Address: LearnStyle AI Privacy Team, 123 Learning Street, Education City, EC 12345</li>
                            </ul>
            </section>
        </div>
    </div>
    
    <a href="{{ url_for('dashboard') }}" class="back-to-dashboard">
        <i class="bi bi-arrow-left"></i>
        Back to Dashboard
    </a>
</div>
{% endblock %}
